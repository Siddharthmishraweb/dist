import './polyfills.server.mjs';
import{$ as w,A as te,B as k,Ba as Qt,C as p,Ca as Yt,D as $,E as Q,F as O,G as N,Ga as He,H as f,I as E,Ia as mt,J as dt,Ja as Ge,K as xe,Ka as vt,L as D,La as Le,M as S,N as he,Na as Ue,O as pe,Oa as J,P as Ae,Pa as Zt,Q as Y,Qa as je,R as z,Ra as Z,S as P,Sa as me,T as ut,Ta as Xt,U as F,Ua as ei,V as u,Va as ti,W as h,Wa as $e,X as Wt,Xa as ii,Y as ht,Z as ie,_ as L,_a as ni,a as xt,aa as ke,b as x,ba as g,c as Me,ca as W,cb as si,d as At,da as Ne,db as oi,e as kt,ea as l,f as Nt,fa as d,fb as ri,g as Ft,ga as T,gb as yt,h as lt,ha as A,i as Vt,ia as C,j as Bt,ja as _,k as ue,ka as Jt,l as Ht,la as Kt,m as G,ma as qt,n as Gt,na as Fe,o as q,oa as Ve,p as Lt,pa as Be,q as Ie,qa as pt,r as Ut,ra as m,s as j,sa as M,t as jt,ta as ft,u as Pe,ua as fe,v as $t,va as _e,w as I,wa as ge,x as zt,xa as ne,y as ct,ya as _t,z as Re,za as gt}from"./chunk-SZBVGU7V.mjs";import{a as y,b as R,h as at}from"./chunk-NDYDZJSS.mjs";var B=(()=>{let e=class e{getAccessToken(){return typeof localStorage<"u"?localStorage.getItem("access_token"):null}constructor(t){this.http=t,this.apiUrl="http://13.60.43.183:3000/posts",this.loginUrl="http://13.60.43.183:3000/auth/google-login"}getPosts(){return console.log("afghh"),this.http.get(this.apiUrl)}loginWithGoogle(t){return console.log("Payload being sent to login API: ",t),this.http.post(this.loginUrl,t).pipe(Ut(this.handleError))}handleError(t){return console.error("An error occurred:",t),Vt(t)}createPost(t){let n=new me({"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`});return this.http.post(`${this.apiUrl}`,t,{headers:n})}likePost(t){let n=this.getAccessToken(),o=new me({Authorization:`Bearer ${n}`});return this.http.patch(`${this.apiUrl}/${t}/like`,{},{headers:o})}unlikePost(t){let n=this.getAccessToken(),o=new me({Authorization:`Bearer ${n}`});return this.http.patch(`${this.apiUrl}/${t}/unlike`,{},{headers:o})}getPostById(t){return this.http.get(`${this.apiUrl}/${t}`)}addComment(t,n){let o=this.getAccessToken(),r=new me({Authorization:`Bearer ${o}`}),a=`${this.apiUrl}/${t}/comment`;return this.http.patch(a,n,{headers:r})}};e.\u0275fac=function(n){return new(n||e)(Q(Xt))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var _i=(()=>{let e=class e{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(n){return new(n||e)(h(ht),h(z))},e.\u0275dir=E({type:e});let i=e;return i})(),dn=(()=>{let e=class e extends _i{};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=Ae(e)))(o||e)}})(),e.\u0275dir=E({type:e,features:[L]});let i=e;return i})(),gi=new $("");var un={provide:gi,useExisting:te(()=>le),multi:!0};function hn(){let i=vt()?vt().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var pn=new $(""),le=(()=>{let e=class e extends _i{constructor(t,n,o){super(t,n),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!hn())}writeValue(t){let n=t??"";this.setProperty("value",n)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(n){return new(n||e)(h(ht),h(z),h(pn,8))},e.\u0275dir=E({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){n&1&&C("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[ne([un]),L]});let i=e;return i})();function fn(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}var Dt=new $(""),mi=new $("");function _n(i){return fn(i.value)?{required:!0}:null}function ai(i){return null}function vi(i){return i!=null}function yi(i){return Qt(i)?Ft(i):i}function bi(i){let e={};return i.forEach(s=>{e=s!=null?y(y({},e),s):e}),Object.keys(e).length===0?null:e}function Di(i,e){return e.map(s=>s(i))}function gn(i){return!i.validate}function Si(i){return i.map(e=>gn(e)?e:s=>e.validate(s))}function mn(i){if(!i)return null;let e=i.filter(vi);return e.length==0?null:function(s){return bi(Di(s,e))}}function St(i){return i!=null?mn(Si(i)):null}function vn(i){if(!i)return null;let e=i.filter(vi);return e.length==0?null:function(s){let t=Di(s,e).map(yi);return Ht(t).pipe(ue(bi))}}function Ct(i){return i!=null?vn(Si(i)):null}function li(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function yn(i){return i._rawValidators}function bn(i){return i._rawAsyncValidators}function bt(i){return i?Array.isArray(i)?i:[i]:[]}function Je(i,e){return Array.isArray(i)?i.includes(e):i===e}function ci(i,e){let s=bt(e);return bt(i).forEach(n=>{Je(s,n)||s.push(n)}),s}function di(i,e){return bt(e).filter(s=>!Je(i,s))}var Ke=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=St(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ct(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,s){return this.control?this.control.hasError(e,s):!1}getError(e,s){return this.control?this.control.getError(e,s):null}},re=class extends Ke{get formDirective(){return null}get path(){return null}},Ce=class extends Ke{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},qe=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Dn={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},qs=R(y({},Dn),{"[class.ng-submitted]":"isSubmitted"}),Xe=(()=>{let e=class e extends qe{constructor(t){super(t)}};e.\u0275fac=function(n){return new(n||e)(h(Ce,2))},e.\u0275dir=E({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){n&2&&W("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[L]});let i=e;return i})(),et=(()=>{let e=class e extends qe{constructor(t){super(t)}};e.\u0275fac=function(n){return new(n||e)(h(re,10))},e.\u0275dir=E({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){n&2&&W("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[L]});let i=e;return i})();var ve="VALID",We="INVALID",se="PENDING",ye="DISABLED",ae=class{},Qe=class extends ae{constructor(e,s){super(),this.value=e,this.source=s}},De=class extends ae{constructor(e,s){super(),this.pristine=e,this.source=s}},Se=class extends ae{constructor(e,s){super(),this.touched=e,this.source=s}},oe=class extends ae{constructor(e,s){super(),this.status=e,this.source=s}};function Ci(i){return(tt(i)?i.validators:i)||null}function Sn(i){return Array.isArray(i)?St(i):i||null}function Oi(i,e){return(tt(e)?e.asyncValidators:i)||null}function Cn(i){return Array.isArray(i)?Ct(i):i||null}function tt(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function On(i,e,s){let t=i.controls;if(!(e?Object.keys(t):t).length)throw new Re(1e3,"");if(!t[s])throw new Re(1001,"")}function wn(i,e,s){i._forEachChild((t,n)=>{if(s[n]===void 0)throw new Re(1002,"")})}var Ye=class{constructor(e,s){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new x,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(s)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ve}get invalid(){return this.status===We}get pending(){return this.status==se}get disabled(){return this.status===ye}get enabled(){return this.status!==ye}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ci(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ci(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(di(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(di(e,this._rawAsyncValidators))}hasValidator(e){return Je(this._rawValidators,e)}hasAsyncValidator(e){return Je(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let s=this.touched===!1;this.touched=!0;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(R(y({},e),{sourceControl:t})),s&&e.emitEvent!==!1&&this._events.next(new Se(!0,t))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(s=>s.markAllAsTouched(e))}markAsUntouched(e={}){let s=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=e.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:t})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t),s&&e.emitEvent!==!1&&this._events.next(new Se(!1,t))}markAsDirty(e={}){let s=this.pristine===!0;this.pristine=!1;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(R(y({},e),{sourceControl:t})),s&&e.emitEvent!==!1&&this._events.next(new De(!1,t))}markAsPristine(e={}){let s=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=e.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),s&&e.emitEvent!==!1&&this._events.next(new De(!0,t))}markAsPending(e={}){this.status=se;let s=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new oe(this.status,s)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(R(y({},e),{sourceControl:s}))}disable(e={}){let s=this._parentMarkedDirty(e.onlySelf);this.status=ye,this.errors=null,this._forEachChild(n=>{n.disable(R(y({},e),{onlySelf:!0}))}),this._updateValue();let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qe(this.value,t)),this._events.next(new oe(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(R(y({},e),{skipPristineCheck:s}),this),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let s=this._parentMarkedDirty(e.onlySelf);this.status=ve,this._forEachChild(t=>{t.enable(R(y({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(R(y({},e),{skipPristineCheck:s}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e,s){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},s),this._parent._updateTouched({},s))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ve||this.status===se)&&this._runAsyncValidator(t,e.emitEvent)}let s=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qe(this.value,s)),this._events.next(new oe(this.status,s)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(R(y({},e),{sourceControl:s}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(s=>s._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ye:ve}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,s){if(this.asyncValidator){this.status=se,this._hasOwnPendingAsyncValidator={emitEvent:s!==!1};let t=yi(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:s,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,s={}){this.errors=e,this._updateControlsErrors(s.emitEvent!==!1,this,s.shouldHaveEmitted)}get(e){let s=e;return s==null||(Array.isArray(s)||(s=s.split(".")),s.length===0)?null:s.reduce((t,n)=>t&&t._find(n),this)}getError(e,s){let t=s?this.get(s):this;return t&&t.errors?t.errors[e]:null}hasError(e,s){return!!this.getError(e,s)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,s,t){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||t)&&this._events.next(new oe(this.status,s)),this._parent&&this._parent._updateControlsErrors(e,s,t)}_initObservables(){this.valueChanges=new P,this.statusChanges=new P}_calculateStatus(){return this._allControlsDisabled()?ye:this.errors?We:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(se)?se:this._anyControlsHaveStatus(We)?We:ve}_anyControlsHaveStatus(e){return this._anyControls(s=>s.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,s){let t=!this._anyControlsDirty(),n=this.pristine!==t;this.pristine=t,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,s),n&&this._events.next(new De(this.pristine,s))}_updateTouched(e={},s){this.touched=this._anyControlsTouched(),this._events.next(new Se(this.touched,s)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,s)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tt(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let s=this._parent&&this._parent.dirty;return!e&&!!s&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Sn(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Cn(this._rawAsyncValidators)}},Ze=class extends Ye{constructor(e,s,t){super(Ci(s),Oi(t,s)),this.controls=e,this._initObservables(),this._setUpdateStrategy(s),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,s){return this.controls[e]?this.controls[e]:(this.controls[e]=s,s.setParent(this),s._registerOnCollectionChange(this._onCollectionChange),s)}addControl(e,s,t={}){this.registerControl(e,s),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}setControl(e,s,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],s&&this.registerControl(e,s),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,s={}){wn(this,!0,e),Object.keys(e).forEach(t=>{On(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s)}patchValue(e,s={}){e!=null&&(Object.keys(e).forEach(t=>{let n=this.controls[t];n&&n.patchValue(e[t],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s))}reset(e={},s={}){this._forEachChild((t,n)=>{t.reset(e?e[n]:null,{onlySelf:!0,emitEvent:s.emitEvent})}),this._updatePristine(s,this),this._updateTouched(s,this),this.updateValueAndValidity(s)}getRawValue(){return this._reduceChildren({},(e,s,t)=>(e[t]=s.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(s,t)=>t._syncPendingControls()?!0:s);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(s=>{let t=this.controls[s];t&&e(t,s)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[s,t]of Object.entries(this.controls))if(this.contains(s)&&e(t))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(s,t,n)=>((t.enabled||this.disabled)&&(s[n]=t.value),s))}_reduceChildren(e,s){let t=e;return this._forEachChild((n,o)=>{t=s(t,n,o)}),t}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ot=new $("CallSetDisabledState",{providedIn:"root",factory:()=>wt}),wt="always";function Tn(i,e){return[...e.path,i]}function wi(i,e,s=wt){Ti(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||s==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),Mn(i,e),Pn(i,e),In(i,e),En(i,e)}function ui(i,e){i.forEach(s=>{s.registerOnValidatorChange&&s.registerOnValidatorChange(e)})}function En(i,e){if(e.valueAccessor.setDisabledState){let s=t=>{e.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(s),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(s)})}}function Ti(i,e){let s=yn(i);e.validator!==null?i.setValidators(li(s,e.validator)):typeof s=="function"&&i.setValidators([s]);let t=bn(i);e.asyncValidator!==null?i.setAsyncValidators(li(t,e.asyncValidator)):typeof t=="function"&&i.setAsyncValidators([t]);let n=()=>i.updateValueAndValidity();ui(e._rawValidators,n),ui(e._rawAsyncValidators,n)}function Mn(i,e){e.valueAccessor.registerOnChange(s=>{i._pendingValue=s,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&Ei(i,e)})}function In(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&Ei(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function Ei(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Pn(i,e){let s=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};i.registerOnChange(s),e._registerOnDestroy(()=>{i._unregisterOnChange(s)})}function Rn(i,e){i==null,Ti(i,e)}function xn(i,e){if(!i.hasOwnProperty("model"))return!1;let s=i.model;return s.isFirstChange()?!0:!Object.is(e,s.currentValue)}function An(i){return Object.getPrototypeOf(i.constructor)===dn}function kn(i,e){i._syncPendingControls(),e.forEach(s=>{let t=s.control;t.updateOn==="submit"&&t._pendingChange&&(s.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function Nn(i,e){if(!e)return null;Array.isArray(e);let s,t,n;return e.forEach(o=>{o.constructor===le?s=o:An(o)?t=o:n=o}),n||t||s||null}var Fn={provide:re,useExisting:te(()=>Oe)},be=Promise.resolve(),Oe=(()=>{let e=class e extends re{constructor(t,n,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new P,this.form=new Ze({},St(t),Ct(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){be.then(()=>{let n=this._findContainer(t.path);t.control=n.registerControl(t.name,t.control),wi(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){be.then(()=>{let n=this._findContainer(t.path);n&&n.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){be.then(()=>{let n=this._findContainer(t.path),o=new Ze({});Rn(o,t),n.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){be.then(()=>{let n=this._findContainer(t.path);n&&n.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,n){be.then(()=>{this.form.get(t.path).setValue(n)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,kn(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}};e.\u0275fac=function(n){return new(n||e)(h(Dt,10),h(mi,10),h(Ot,8))},e.\u0275dir=E({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,o){n&1&&C("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ne([Fn]),L]});let i=e;return i})();function hi(i,e){let s=i.indexOf(e);s>-1&&i.splice(s,1)}function pi(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Vn=class extends Ye{constructor(e=null,s,t){super(Ci(s),Oi(t,s)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(s),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tt(s)&&(s.nonNullable||s.initialValueIsDefault)&&(pi(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,s={}){this.value=this._pendingValue=e,this._onChange.length&&s.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,s.emitViewToModelChange!==!1)),this.updateValueAndValidity(s)}patchValue(e,s={}){this.setValue(e,s)}reset(e=this.defaultValue,s={}){this._applyFormState(e),this.markAsPristine(s),this.markAsUntouched(s),this.setValue(this.value,s),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){hi(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){hi(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){pi(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Bn={provide:Ce,useExisting:te(()=>we)},fi=Promise.resolve(),we=(()=>{let e=class e extends Ce{constructor(t,n,o,r,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new Vn,this._registered=!1,this.name="",this.update=new P,this._parent=t,this._setValidators(n),this._setAsyncValidators(o),this.valueAccessor=Nn(this,r)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let n=t.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),xn(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){wi(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){fi.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let n=t.isDisabled.currentValue,o=n!==0&&mt(n);fi.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Tn(t,this._parent):[t]}};e.\u0275fac=function(n){return new(n||e)(h(re,9),h(Dt,10),h(mi,10),h(gi,10),h(He,8),h(Ot,8))},e.\u0275dir=E({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ne([Bn]),L,xe]});let i=e;return i})(),it=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=E({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let i=e;return i})();var Hn=(()=>{let e=class e{constructor(){this._validator=ai}ngOnChanges(t){if(this.inputName in t){let n=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):ai,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=E({type:e,features:[xe]});let i=e;return i})();var Gn={provide:Dt,useExisting:te(()=>Tt),multi:!0};var Tt=(()=>{let e=class e extends Hn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=mt,this.createValidator=t=>_n}enabled(t){return t}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=Ae(e)))(o||e)}})(),e.\u0275dir=E({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,o){n&2&&ke("required",o._enabled?"":null)},inputs:{required:"required"},features:[ne([Gn]),L]});let i=e;return i})();var Ln=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({});let i=e;return i})();var Mi=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:Ot,useValue:t.callSetDisabledState??wt}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({imports:[Ln]});let i=e;return i})();var jn=i=>({color:i});function $n(i,e){if(i&1){let s=A();l(0,"div",22),C("click",function(){let n=D(s).index,o=_(2).$implicit,r=_();return S(r.selectImage(o,n))}),T(1,"img",23),d()}if(i&2){let s=e.$implicit,t=e.index,n=_(2).$implicit;W("active",t===n.selectedImageIndex),u(),qt("alt","Thumbnail ",t+1,""),g("src",s,F)}}function zn(i,e){if(i&1&&(l(0,"div",17)(1,"div",18),T(2,"img",19),d(),l(3,"div",20),w(4,$n,2,5,"div",21),d()()),i&2){let s=_().$implicit;u(2),g("src",s.images[s.selectedImageIndex],F),u(2),g("ngForOf",s.images)}}function Wn(i,e){if(i&1&&(l(0,"div",31)(1,"div",4),T(2,"img",5),l(3,"span"),m(4),d()(),l(5,"p"),m(6),d()()),i&2){let s=e.$implicit;u(2),g("src",(s.user==null?null:s.user.image)||"default-user-image.png",F),u(2),M((s.user==null?null:s.user.name)||"Anonymous"),u(2),M(s.comment)}}function Jn(i,e){if(i&1){let s=A();l(0,"div",24)(1,"div",25),w(2,Wn,7,3,"div",26),d(),l(3,"form",27),C("ngSubmit",function(){D(s);let n=_().$implicit,o=_();return S(o.addComment(n))}),l(4,"div",28)(5,"input",29),ge("ngModelChange",function(n){D(s);let o=_(2);return _e(o.newComment,n)||(o.newComment=n),S(n)}),d(),l(6,"button",30),m(7,"Post"),d()()()()}if(i&2){let s=_().$implicit,t=_();u(2),g("ngForOf",s.comments),u(3),fe("ngModel",t.newComment)}}function Kn(i,e){if(i&1){let s=A();l(0,"div",3)(1,"div",4),T(2,"img",5),l(3,"span"),m(4),d()(),l(5,"div",6),C("click",function(){let n=D(s).$implicit,o=_();return S(o.goToPostDetails(n._id))}),l(6,"p"),m(7),d()(),w(8,zn,5,2,"div",7),l(9,"div",8)(10,"div",9),C("click",function(){let n=D(s).$implicit,o=_();return S(o.toggleLike(n))}),he(),l(11,"svg",10),T(12,"path",11),d(),pe(),l(13,"span"),m(14),d()(),l(15,"div",12),he(),l(16,"svg",13),T(17,"path",14),d(),pe(),l(18,"span",15),C("click",function(){let n=D(s).$implicit,o=_();return S(o.toggleComments(n))}),m(19),d()()(),w(20,Jn,8,2,"div",16),d()}if(i&2){let s=e.$implicit;u(2),g("src",s.userImages?s.userImages:"assets/images/user-avtar.png",F),u(2),M((s.user==null?null:s.user.name)||"Anonymous"),u(3),M(s.content),u(),g("ngIf",s.images&&s.images.length>0),u(2),g("ngStyle",gt(8,jn,s.liked?"rgb(8, 102, 255)":"black")),u(4),M(s.likes),u(5),ft(" ",s.showComments?"Hide Comments":"Show Comments"," "),u(),g("ngIf",s.showComments)}}var Ri=(()=>{let e=class e{constructor(t,n,o){this.postService=t,this.router=n,this.sanitizer=o,this.newComment=""}ngOnInit(){this.posts$=this.postService.getPosts(),this.posts$.subscribe(t=>{this.posts=t,this.sanitizePostImages()})}sanitizePostImages(){this.posts.forEach(t=>{t.user=t.user||{},t.userImages=this.sanitizer.bypassSecurityTrustUrl(t?.user?.profilePic),t.selectedImageIndex=0,t.comments.forEach(n=>{n.user.image=this.sanitizeUrl(n.user?.profilePic||"assets/default-user-image.png")})})}sanitizeUrl(t){return this.sanitizer.bypassSecurityTrustUrl(t)}toggleComments(t){t.showComments=!t.showComments}addComment(t){if(this.newComment.trim()!==""){let n={user:JSON.parse(localStorage.getItem("user")||""),comment:this.newComment,createdAt:new Date().toISOString()};this.postService.addComment(t._id,n).subscribe(o=>{t.comments=o.comments,this.newComment=""})}}toggleLike(t){t.liked?this.postService.unlikePost(t._id).subscribe(()=>{t.likes--,t.liked=!1}):this.postService.likePost(t._id).subscribe(()=>{t.likes++,t.liked=!0})}goToPostDetails(t){this.router.navigate(["/post",t])}selectImage(t,n){t.selectedImageIndex=n}swapImage(t){let n=t.mainImage;t.mainImage=t.sideImage,t.sideImage=n}};e.\u0275fac=function(n){return new(n||e)(h(B),h(ri),h($e))},e.\u0275cmp=N({type:e,selectors:[["app-dashboard"]],decls:3,vars:1,consts:[[1,"container","mt-4"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"user"],["alt","User Image",1,"user-image",3,"src"],[1,"content",3,"click"],["class","image-carousel",4,"ngIf"],[1,"card-body","d-flex","justify-content-between","align-items-center"],[1,"likes",3,"click","ngStyle"],["stroke","currentColor","fill","currentColor","stroke-width","0","viewBox","0 0 1024 1024","height","1em","width","1em","xmlns","http://www.w3.org/2000/svg"],["d","M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 0 0-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 0 0 471 99.9c-52 0-98 35-111.8 85.1l-85.9 311h-.3v428h472.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25.1-5.6-37.1zM112 528v364c0 17.7 14.3 32 32 32h65V496h-65c-17.7 0-32 14.3-32 32z"],[1,"comments"],["stroke","currentColor","fill","currentColor","stroke-width","0","viewBox","0 0 512 512","height","1em","width","1em","xmlns","http://www.w3.org/2000/svg"],["d","M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"],[3,"click"],["class","comments-section",4,"ngIf"],[1,"image-carousel"],[1,"image-slide"],["alt","Post Image",1,"post-image","central-image",3,"src"],[1,"image-thumbnails"],["class","thumbnail",3,"active","click",4,"ngFor","ngForOf"],[1,"thumbnail",3,"click"],[1,"thumbnail-image",3,"src","alt"],[1,"comments-section"],[1,"comments-list"],["class","comment",4,"ngFor","ngForOf"],[1,"comment-form",3,"ngSubmit"],[1,"form-group","d-flex","align-items-center"],["type","text","placeholder","Add a comment...","name","newComment",1,"form-control","mr-2",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],[1,"comment"]],template:function(n,o){n&1&&(l(0,"div",0)(1,"div",1),w(2,Kn,21,10,"div",2),d()()),n&2&&(u(2),g("ngForOf",o.posts))},dependencies:[Ue,J,Zt,it,le,Xe,et,we,Oe],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:auto;padding:0 20px}.card-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;padding:20px;transition:transform .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.user[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:10px}.user-image[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover}.content[_ngcontent-%COMP%]{margin-bottom:10px;cursor:pointer}.image-carousel[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;overflow-x:auto;margin-bottom:10px;position:relative;height:auto}.main-image[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center}.side-image[_ngcontent-%COMP%]{flex:1;max-width:200px;cursor:pointer;transition:transform .3s ease}.post-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:8px;transition:transform .3s ease}.card-body[_ngcontent-%COMP%]{padding-top:10px;border-top:1px solid #eee}.likes[_ngcontent-%COMP%], .comments[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;cursor:pointer;transition:color .3s ease}.likes[_ngcontent-%COMP%]:hover, .comments[_ngcontent-%COMP%]:hover{color:#007bff}.comments-section[_ngcontent-%COMP%]{margin-top:10px;padding-top:10px;border-top:1px solid #eee}.comments-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;margin-bottom:10px}.comment[_ngcontent-%COMP%]{display:flex;gap:10px}.comment[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{flex-shrink:0}.comment-form[_ngcontent-%COMP%]{display:flex;gap:10px}.image-carousel[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;gap:20px;padding:20px;background-color:#f7f7f7;border-radius:10px;box-shadow:0 4px 8px #0000001a}.image-thumbnails[_ngcontent-%COMP%]{display:flex;gap:10px;overflow-x:auto;padding:10px;border-bottom:2px solid #ddd}.thumbnail[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s ease}.thumbnail.active[_ngcontent-%COMP%]{transform:scale(1.1);border:2px solid #007bff;border-radius:5px}.thumbnail-image[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;border-radius:5px}.image-slide[_ngcontent-%COMP%]{max-width:80%;margin:auto}.post-image[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:10px;transition:opacity .5s ease,transform .5s ease;box-shadow:0 8px 16px #0003}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.post-image[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease}.central-image[_ngcontent-%COMP%]{height:70vh;max-width:40vw;width:auto}.card[_ngcontent-%COMP%]{margin-bottom:20px;padding:15px;border:1px solid #ccc;border-radius:8px}.card[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.card[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .user-image[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:10px}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:10px}.card[_ngcontent-%COMP%]   .image-carousel[_ngcontent-%COMP%]{margin-bottom:10px}.card[_ngcontent-%COMP%]   .image-carousel[_ngcontent-%COMP%]   .image-slide[_ngcontent-%COMP%]{text-align:center}.card[_ngcontent-%COMP%]   .image-carousel[_ngcontent-%COMP%]   .image-slide[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]{max-width:100%;border-radius:8px}.card[_ngcontent-%COMP%]   .image-carousel[_ngcontent-%COMP%]   .image-thumbnails[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:5px}.card[_ngcontent-%COMP%]   .image-carousel[_ngcontent-%COMP%]   .image-thumbnails[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]{cursor:pointer;margin-right:5px;border:1px solid #ccc;padding:2px}.card[_ngcontent-%COMP%]   .image-carousel[_ngcontent-%COMP%]   .image-thumbnails[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;border-radius:8px}.card[_ngcontent-%COMP%]   .image-carousel[_ngcontent-%COMP%]   .image-thumbnails[_ngcontent-%COMP%]   .thumbnail.active[_ngcontent-%COMP%]{border-color:#0866ff}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{margin-top:10px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .likes[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .comments[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .likes[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .comments[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:5px}.card[_ngcontent-%COMP%]   .comments-section[_ngcontent-%COMP%]{margin-top:10px;border-top:1px solid #ccc;padding-top:10px}.card[_ngcontent-%COMP%]   .comments-section[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]{margin-bottom:10px}.card[_ngcontent-%COMP%]   .comments-section[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.card[_ngcontent-%COMP%]   .comments-section[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .user-image[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;margin-right:8px}.card[_ngcontent-%COMP%]   .comments-section[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.card[_ngcontent-%COMP%]   .comments-section[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0}.card[_ngcontent-%COMP%]   .comments-section[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex:1;padding:8px;border-radius:20px;border:1px solid #ccc}.card[_ngcontent-%COMP%]   .comments-section[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{border-radius:20px;padding:6px 12px;margin-left:10px;background-color:#0866ff;color:#fff;border:none;cursor:pointer}.card[_ngcontent-%COMP%]   .comments-section[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0069d9}"]});let i=e;return i})();function qn(i,e){if(i&1&&(l(0,"div",4),T(1,"img",5),l(2,"div",6)(3,"h2"),m(4),d(),l(5,"p"),m(6),d()()()),i&2){let s=_();u(),g("src",(s.post==null||s.post.user==null?null:s.post.user.profilePic)||"assets/default-user-image.png",F),u(3),M((s.post==null||s.post.user==null?null:s.post.user.name)||"Anonymous"),u(2),M(s.post==null?null:s.post.createdAt)}}function Qn(i,e){if(i&1&&(l(0,"div",11),T(1,"img",12),d()),i&2){let s=e.$implicit;u(),g("src",s,F)}}function Yn(i,e){if(i&1&&(l(0,"div",9),w(1,Qn,2,1,"div",10),d()),i&2){let s=_(2);u(),g("ngForOf",s.post.images)}}function Zn(i,e){if(i&1&&(l(0,"div",7)(1,"p"),m(2),d(),w(3,Yn,2,1,"div",8),d()),i&2){let s=_();u(2),M(s.post==null?null:s.post.content),u(),g("ngIf",s.post.images&&s.post.images.length>0)}}function Xn(i,e){if(i&1&&(l(0,"div",13)(1,"div",14),he(),T(2,"svg",15),pe(),l(3,"span"),m(4),d()()()),i&2){let s=_();u(4),M(s.post==null?null:s.post.likes)}}var xi=(()=>{let e=class e{constructor(t,n){this.route=t,this.postService=n}ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&this.postService.getPostById(t).subscribe(n=>{n.createdAt=new Date(n.createdAt).toLocaleString("en-IN",{timeZone:"Asia/Kolkata"}),console.log("post::: ",n),this.post=n,n.postImages=n.images,this.sanitizePostImages(n)})}getPostUserName(t){return t?.user?.name||"Anonymous"}getPostImages(t){return t?.images||"Anonymous"}sanitizePostImages(t){console.warn("this.post====",this.post?.images),t.images=this.sanitizer.bypassSecurityTrustUrl(this.post?.images),this.post=t}getPostUserPic(t){let n=t.user,{profilePic:o}=n,r=Object.values(n)[3];return console.log("postUser:: ",Object.values(n)[3]),o||"assets/default-user-image.png"}formatLocalTime(t){return new Date(t).toLocaleString("en-IN",{timeZone:"Asia/Kolkata"})}};e.\u0275fac=function(n){return new(n||e)(h(si),h(B))},e.\u0275cmp=N({type:e,selectors:[["app-post-details"]],decls:4,vars:3,consts:[[1,"post-details"],["class","header",4,"ngIf"],["class","content",4,"ngIf"],["class","interactions",4,"ngIf"],[1,"header"],["alt","User Image",1,"user-image",3,"src"],[1,"user-info"],[1,"content"],["class","image-carousel",4,"ngIf"],[1,"image-carousel"],["class","image-slide",4,"ngFor","ngForOf"],[1,"image-slide"],["alt","Post Image",1,"post-image",3,"src"],[1,"interactions"],[1,"likes"],["stroke","currentColor","fill","currentColor","stroke-width","0","viewBox","0 0 1024 1024","height","1em","width","1em","xmlns","http://www.w3.org/2000/svg"]],template:function(n,o){n&1&&(l(0,"div",0),w(1,qn,7,3,"div",1)(2,Zn,4,2,"div",2)(3,Xn,5,1,"div",3),d()),n&2&&(u(),g("ngIf",o.post),u(),g("ngIf",o.post),u(),g("ngIf",o.post))},dependencies:[Ue,J],styles:[".post-details[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px;background:#fff;border-radius:10px;box-shadow:0 10px 30px #0000001a;transition:all .3s ease-in-out}.post-details[_ngcontent-%COMP%]:hover{box-shadow:0 15px 40px #00000026}.post-details[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px;animation:_ngcontent-%COMP%_fadeInDown .5s ease-in-out}.post-details[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .user-image[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;margin-right:15px;border:2px solid #ddd;transition:all .3s ease-in-out}.post-details[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .user-image[_ngcontent-%COMP%]:hover{transform:scale(1.1);border-color:#007bff}.post-details[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5em;color:#333}.post-details[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0 0;color:#777}.post-details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2em;color:#444;margin-bottom:20px;line-height:1.6;animation:_ngcontent-%COMP%_fadeIn 1s ease-in-out}.post-details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .image-carousel[_ngcontent-%COMP%]{display:flex;gap:10px;overflow-x:auto;padding-bottom:10px;animation:_ngcontent-%COMP%_fadeInUp .5s ease-in-out}.post-details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .image-carousel[_ngcontent-%COMP%]   .image-slide[_ngcontent-%COMP%]{min-width:200px;border-radius:10px;overflow:hidden;box-shadow:0 5px 15px #0000001a;transition:all .3s ease-in-out}.post-details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .image-carousel[_ngcontent-%COMP%]   .image-slide[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 10px 20px #00000026}.post-details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .image-carousel[_ngcontent-%COMP%]   .image-slide[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.post-details[_ngcontent-%COMP%]   .interactions[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:20px;animation:_ngcontent-%COMP%_fadeIn 1.2s ease-in-out}.post-details[_ngcontent-%COMP%]   .interactions[_ngcontent-%COMP%]   .likes[_ngcontent-%COMP%]{display:flex;align-items:center;color:#007bff;font-size:1.2em}.post-details[_ngcontent-%COMP%]   .interactions[_ngcontent-%COMP%]   .likes[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:5px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.image-carousel[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;gap:20px;padding:20px;background-color:#f7f7f7;border-radius:10px;box-shadow:0 4px 8px #0000001a}.image-thumbnails[_ngcontent-%COMP%]{display:flex;gap:10px;overflow-x:auto;padding:10px;border-bottom:2px solid #ddd}.thumbnail[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s ease}.thumbnail.active[_ngcontent-%COMP%]{transform:scale(1.1);border:2px solid #007bff;border-radius:5px}.thumbnail-image[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;border-radius:5px}.image-slide[_ngcontent-%COMP%]{max-width:80%;margin:auto}.post-image[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:10px;transition:opacity .5s ease,transform .5s ease;box-shadow:0 8px 16px #0003}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.post-image[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease}"]});let i=e;return i})();var es=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"dashboard",component:Ri},{path:"post/:id",component:xi}],Ai=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({imports:[yt.forRoot(es),yt]});let i=e;return i})();var nt=class{constructor(){}loadScript(e,s,t,n=null){if(typeof document<"u"&&!document.getElementById(e)){let o=document.createElement("script");o.async=!0,o.src=s,o.onload=t,n||(n=document.head),n.appendChild(o)}}},Te=class{},ts={oneTapEnabled:!0},U=(()=>{let e=class e extends nt{constructor(t,n){super(),this.clientId=t,this.initOptions=n,this.changeUser=new P,this._socialUser=new Me(null),this._accessToken=new Me(null),this._receivedAccessToken=new P,this.initOptions=y(y({},ts),this.initOptions),this._socialUser.pipe(Pe(1)).subscribe(this.changeUser),this._accessToken.pipe(Pe(1)).subscribe(this._receivedAccessToken)}initialize(t,n){return new Promise((o,r)=>{try{this.loadScript(e.PROVIDER_ID,this.getGoogleLoginScriptSrc(n),()=>{if(google.accounts.id.initialize({client_id:this.clientId,auto_select:t,callback:({credential:a})=>{let c=this.createSocialUser(a);this._socialUser.next(c)},prompt_parent_id:this.initOptions?.prompt_parent_id,itp_support:this.initOptions.oneTapEnabled,use_fedcm_for_prompt:this.initOptions.oneTapEnabled}),this.initOptions.oneTapEnabled&&this._socialUser.pipe(q(a=>a===null)).subscribe(()=>google.accounts.id.prompt(console.debug)),this.initOptions.scopes){let a=this.initOptions.scopes instanceof Array?this.initOptions.scopes.filter(c=>c).join(" "):this.initOptions.scopes;this._tokenClient=google.accounts.oauth2.initTokenClient({client_id:this.clientId,scope:a,prompt:this.initOptions.prompt,callback:c=>{c.error?this._accessToken.error({code:c.error,description:c.error_description,uri:c.error_uri}):this._accessToken.next(c.access_token)}})}o()})}catch(a){r(a)}})}getLoginStatus(){return new Promise((t,n)=>{this._socialUser.value?t(this._socialUser.value):n(`No user is currently logged in with ${e.PROVIDER_ID}`)})}refreshToken(){return new Promise((t,n)=>{google.accounts.id.revoke(this._socialUser.value.id,o=>{o.error?n(o.error):t(this._socialUser.value)})})}getAccessToken(){return new Promise((t,n)=>{this._tokenClient?(this._tokenClient.requestAccessToken({hint:this._socialUser.value?.email}),this._receivedAccessToken.pipe(j(1)).subscribe(t)):this._socialUser.value?n("No token client was instantiated, you should specify some scopes."):n("You should be logged-in first.")})}revokeAccessToken(){return new Promise((t,n)=>{this._tokenClient?this._accessToken.value?google.accounts.oauth2.revoke(this._accessToken.value,()=>{this._accessToken.next(null),t()}):n("No access token to revoke"):n("No token client was instantiated, you should specify some scopes.")})}signIn(){return Promise.reject('You should not call this method directly for Google, use "<asl-google-signin-button>" wrapper or generate the button yourself with "google.accounts.id.renderButton()" (https://developers.google.com/identity/gsi/web/guides/display-button#javascript)')}signOut(){return at(this,null,function*(){google.accounts.id.disableAutoSelect(),this._socialUser.next(null)})}createSocialUser(t){let n=new Te;n.idToken=t;let o=this.decodeJwt(t);return n.id=o.sub,n.name=o.name,n.email=o.email,n.photoUrl=o.picture,n.firstName=o.given_name,n.lastName=o.family_name,n}decodeJwt(t){let o=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(window.atob(o).split("").map(function(a){return"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(r)}getGoogleLoginScriptSrc(t){return t?`https://accounts.google.com/gsi/client?hl=${t}`:"https://accounts.google.com/gsi/client"}};e.PROVIDER_ID="GOOGLE";let i=e;return i})(),X=(()=>{let e=class e{get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}constructor(t,n,o){this._ngZone=n,this._injector=o,this.providers=new Map,this.autoLogin=!1,this.lang="",this._user=null,this._authState=new At(1),this.initialized=!1,this._initState=new kt,t instanceof Promise?t.then(r=>{this.initialize(r)}):this.initialize(t)}initialize(t){this.autoLogin=t.autoLogin!==void 0?t.autoLogin:!1,this.lang=t.lang!==void 0?t.lang:"";let{onError:n=console.error}=t;t.providers.forEach(o=>{this.providers.set(o.id,"prototype"in o.provider?this._injector.get(o.provider):o.provider)}),Promise.all(Array.from(this.providers.values()).map(o=>o.initialize(this.autoLogin,this.lang))).then(()=>{if(this.autoLogin){let o=[],r=!1;this.providers.forEach((a,c)=>{let v=a.getLoginStatus();o.push(v),v.then(b=>{this.setUser(b,c),r=!0}).catch(console.debug)}),Promise.all(o).catch(()=>{r||(this._user=null,this._authState.next(null))})}this.providers.forEach((o,r)=>{Bt(o.changeUser)&&o.changeUser.subscribe(a=>{this._ngZone.run(()=>{this.setUser(a,r)})})})}).catch(o=>{n(o)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}getAccessToken(t){return at(this,null,function*(){let n=this.providers.get(t);if(this.initialized)if(n){if(!(n instanceof U))throw e.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN}else throw e.ERR_LOGIN_PROVIDER_NOT_FOUND;else throw e.ERR_NOT_INITIALIZED;return yield n.getAccessToken()})}refreshAuthToken(t){return new Promise((n,o)=>{if(!this.initialized)o(e.ERR_NOT_INITIALIZED);else{let r=this.providers.get(t);r?typeof r.refreshToken!="function"?o(e.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN):r.refreshToken().then(a=>{this.setUser(a,t),n()}).catch(a=>{o(a)}):o(e.ERR_LOGIN_PROVIDER_NOT_FOUND)}})}refreshAccessToken(t){return new Promise((n,o)=>{if(!this.initialized)o(e.ERR_NOT_INITIALIZED);else if(t!==U.PROVIDER_ID)o(e.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{let r=this.providers.get(t);r instanceof U?r.revokeAccessToken().then(n).catch(o):o(e.ERR_LOGIN_PROVIDER_NOT_FOUND)}})}signIn(t,n){return new Promise((o,r)=>{if(!this.initialized)r(e.ERR_NOT_INITIALIZED);else{let a=this.providers.get(t);a?a.signIn(n).then(c=>{this.setUser(c,t),o(c)}).catch(c=>{r(c)}):r(e.ERR_LOGIN_PROVIDER_NOT_FOUND)}})}signOut(t=!1){return new Promise((n,o)=>{if(!this.initialized)o(e.ERR_NOT_INITIALIZED);else if(!this._user)o(e.ERR_NOT_LOGGED_IN);else{let r=this._user.provider,a=this.providers.get(r);a?a.signOut(t).then(()=>{n(),this.setUser(null)}).catch(c=>{o(c)}):o(e.ERR_LOGIN_PROVIDER_NOT_FOUND)}})}setUser(t,n){t&&n&&(t.provider=n),this._user=t,this._authState.next(t)}};e.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",e.ERR_NOT_LOGGED_IN="Not logged in",e.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",e.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",e.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN="Chosen login provider is not supported for getting an access token",e.\u0275fac=function(n){return new(n||e)(Q("SocialAuthServiceConfig"),Q(ie),Q(Y))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),ki=(()=>{let e=class e{static initialize(t){return{ngModule:e,providers:[X,{provide:"SocialAuthServiceConfig",useValue:t}]}}constructor(t){if(t)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}};e.\u0275fac=function(n){return new(n||e)(Q(e,12))},e.\u0275mod=f({type:e}),e.\u0275inj=p({providers:[X],imports:[je]});let i=e;return i})();var Ee=(()=>{let e=class e extends nt{constructor(t,n={}){super(),this.clientId=t,this.requestOptions={scope:"email,public_profile",locale:"en_US",fields:"name,email,picture,first_name,last_name",version:"v10.0"},this.requestOptions=y(y({},this.requestOptions),n)}initialize(){return new Promise((t,n)=>{try{this.loadScript(e.PROVIDER_ID,`//connect.facebook.net/${this.requestOptions.locale}/sdk.js`,()=>{FB.init({appId:this.clientId,autoLogAppEvents:!0,cookie:!0,xfbml:!0,version:this.requestOptions.version}),t()})}catch(o){n(o)}})}getLoginStatus(){return new Promise((t,n)=>{FB.getLoginStatus(o=>{if(o.status==="connected"){let r=o.authResponse;FB.api(`/me?fields=${this.requestOptions.fields}`,a=>{let c=new Te;c.id=a.id,c.name=a.name,c.email=a.email,c.photoUrl="https://graph.facebook.com/"+a.id+"/picture?type=normal&access_token="+r.accessToken,c.firstName=a.first_name,c.lastName=a.last_name,c.authToken=r.accessToken,c.response=a,t(c)})}else n(`No user is currently logged in with ${e.PROVIDER_ID}`)})})}signIn(t){let n=y(y({},this.requestOptions),t);return new Promise((o,r)=>{FB.login(a=>{if(a.authResponse){let c=a.authResponse;FB.api(`/me?fields=${n.fields}`,v=>{let b=new Te;b.id=v.id,b.name=v.name,b.email=v.email,b.photoUrl="https://graph.facebook.com/"+v.id+"/picture?type=normal",b.firstName=v.first_name,b.lastName=v.last_name,b.authToken=c.accessToken,b.response=v,o(b)})}else r("User cancelled login or did not fully authorize.")},n)})}signOut(){return new Promise((t,n)=>{FB.logout(o=>{t()})})}};e.PROVIDER_ID="FACEBOOK";let i=e;return i})();var Ni=(()=>{let e=class e{constructor(t,n){this.type="icon",this.size="medium",this.text="signin_with",this.shape="rectangular",this.theme="outline",this.logo_alignment="left",this.width=0,this.locale="",n.initState.pipe(j(1)).subscribe(()=>{Promise.resolve(this.width).then(o=>{o>400||o<200&&o!=0?Promise.reject("Please note .. max-width 400 , min-width 200 (https://developers.google.com/identity/gsi/web/tools/configurator)"):google.accounts.id.renderButton(t.nativeElement,{type:this.type,size:this.size,text:this.text,width:this.width,shape:this.shape,theme:this.theme,logo_alignment:this.logo_alignment,locale:this.locale})})})}};e.\u0275fac=function(n){return new(n||e)(h(z),h(X))},e.\u0275dir=E({type:e,selectors:[["asl-google-signin-button"]],inputs:{type:"type",size:"size",text:"text",shape:"shape",theme:"theme",logo_alignment:"logo_alignment",width:"width",locale:"locale"}});let i=e;return i})(),Fi=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({});let i=e;return i})();function is(i,e){if(i&1){let s=A();l(0,"div",1)(1,"div",2)(2,"div",3)(3,"h5",4),m(4,"Create Post"),d(),l(5,"button",5),C("click",function(){D(s);let n=_();return S(n.closeModal())}),m(6,"\xD7"),d()(),l(7,"div",6)(8,"form",7),C("ngSubmit",function(){D(s);let n=_();return S(n.createPost())}),l(9,"div",8)(10,"label",9),m(11,"Content"),d(),l(12,"textarea",10),ge("ngModelChange",function(n){D(s);let o=_();return _e(o.postContent,n)||(o.postContent=n),S(n)}),d()(),l(13,"div",8)(14,"label",11),m(15,"Images (comma-separated URLs)"),d(),l(16,"input",12),ge("ngModelChange",function(n){D(s);let o=_();return _e(o.postImages,n)||(o.postImages=n),S(n)}),d()(),l(17,"button",13),m(18,"Submit"),d()()()()()}if(i&2){let s=_();u(12),fe("ngModel",s.postContent),u(4),fe("ngModel",s.postImages)}}var Bi=(()=>{let e=class e{constructor(t,n){this.commonService=t,this.authService=n,this.postContent="",this.postImages="",this.isModalOpen=!1,this.user=null,this.postCreated=new P,this.authService.authState.subscribe(o=>{this.user=o})}openModal(){this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}createPost(){if(this.user){let t={content:this.postContent,images:this.postImages.split(",").map(n=>n.trim()),user:this.user.email};this.commonService.createPost(t).subscribe(n=>{console.log("Post created successfully:",n),this.postContent="",this.postImages="",this.closeModal(),this.postCreated.emit()})}}};e.\u0275fac=function(n){return new(n||e)(h(B),h(X))},e.\u0275cmp=N({type:e,selectors:[["app-create-post"]],outputs:{postCreated:"postCreated"},decls:1,vars:1,consts:[["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"btn-close",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"mb-3"],["for","postContent",1,"form-label"],["id","postContent","name","postContent","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","postImages",1,"form-label"],["type","text","id","postImages","name","postImages",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100"]],template:function(n,o){n&1&&w(0,is,19,2,"div",0),n&2&&g("ngIf",o.isModalOpen)},dependencies:[J,it,le,Xe,et,Tt,we,Oe],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:10px;padding:2rem;width:500px;max-width:90%}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #e5e5e5}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem}.btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer}.modal-body[_ngcontent-%COMP%]{padding-top:1rem}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}.form-label[_ngcontent-%COMP%]{font-weight:500}.form-control[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border:none;padding:.5rem 1rem;color:#fff;border-radius:5px;cursor:pointer}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]});let i=e;return i})();var ss=["googleSignInButton"];function os(i,e){if(i&1){let s=A();l(0,"div")(1,"asl-google-signin-button",10),C("signInStatus",function(){D(s);let n=_();return S(n.signInWithGoogle())}),d()()}}function rs(i,e){if(i&1){let s=A();l(0,"button",11),C("click",function(){D(s);let n=_();return S(n.onFacebookLoginClick())}),m(1,"Login with Facebook"),d()}}function as(i,e){if(i&1){let s=A();l(0,"div",12),T(1,"img",13),l(2,"span",14),m(3),d(),l(4,"button",15),C("click",function(){D(s);let n=_();return S(n.signOut())}),m(5,"Logout"),d(),l(6,"button",16),C("click",function(){D(s),_();let n=pt(10);return S(n.openModal())}),m(7,"Create Post"),d()()}if(i&2){let s=_();u(),g("src",s.sanitizedPhotoUrl,F),u(2),M(s.user==null?null:s.user.name)}}var st=(()=>{let e=class e{constructor(t,n,o,r){this.authService=t,this.commonService=n,this.sanitizer=o,this.platformId=r,this.user=null,this.loggedIn=!1,this.sanitizedPhotoUrl=null}ngOnInit(){if(this.authService.authState.subscribe(t=>{this.user=t,this.loggedIn=t!=null,t?.photoUrl&&(this.sanitizedPhotoUrl=this.sanitizer.bypassSecurityTrustUrl(t.photoUrl)),this.user&&this.onLoginSuccess(this.user)}),Z(this.platformId)){let t=localStorage.getItem("user");if(t){let n=JSON.parse(t);this.user=n,this.loggedIn=!0,this.user?.photoUrl&&(this.sanitizedPhotoUrl=this.sanitizer.bypassSecurityTrustUrl(this.user.photoUrl))}}}signInWithGoogle(){this.authService.signIn(U.PROVIDER_ID).then(t=>{console.log("user==>>>  ",t),this.user=t,this.loggedIn=!0,this.user?.photoUrl&&(this.sanitizedPhotoUrl=this.sanitizer.bypassSecurityTrustUrl(this.user.photoUrl))}).catch(t=>console.error("Google Sign-In Error:",t))}ngAfterViewInit(){Z(this.platformId)&&this.loadGoogleSignIn()}loadGoogleSignIn(){let t=document.createElement("script");t.src="https://accounts.google.com/gsi/client",t.async=!0,t.defer=!0,t.onload=()=>this.initializeGoogleSignIn(),document.head.appendChild(t)}initializeGoogleSignIn(){this.googleSignInButton&&(google.accounts.id.initialize({client_id:"1088154961211-oi9bnlc9hg2v0d6hc6qu2i4eielgcai4.apps.googleusercontent.com",callback:this.handleGoogleLogin.bind(this)}),google.accounts.id.renderButton(this.googleSignInButton.nativeElement,{type:"standard",theme:"outline",size:"large"}))}handleGoogleLogin(t){if(t.error)console.error("Google Sign-In Error:",t.error);else{let n=t.credential;this.authService.signIn(U.PROVIDER_ID).then(o=>{this.user=o,this.loggedIn=!0,this.user?.photoUrl&&(this.sanitizedPhotoUrl=this.sanitizer.bypassSecurityTrustUrl(this.user.photoUrl)),console.log("user::  ",o),Z(this.platformId)&&(localStorage.setItem("user",JSON.stringify(this.user)),localStorage.setItem("access_token",n))})}}onLoginSuccess(t){let n={idToken:t.idToken,id:t.id,name:t.name,email:t.email,photoUrl:t.photoUrl,firstName:t.firstName,lastName:t.lastName,provider:t.provider};this.commonService.loginWithGoogle(n).subscribe(o=>{console.log("response===== ",o),o?.token?.access_token&&localStorage.setItem("access_token",o.token.access_token),o?.user&&localStorage.setItem("user",JSON.stringify(o.user))})}signOut(){this.authService.signOut(),Z(this.platformId)&&(localStorage.removeItem("access_token"),localStorage.removeItem("user")),this.user=null,this.loggedIn=!1}getLoggedInUserDetails(){return Z(this.platformId)?JSON.parse(localStorage.getItem("user")||"{}"):null}onFacebookLoginClick(){this.authService.signIn(Ee.PROVIDER_ID).catch(t=>console.error(t))}onPostCreated(){}};e.\u0275fac=function(n){return new(n||e)(h(X),h(B),h($e),h(ut))},e.\u0275cmp=N({type:e,selectors:[["app-root"]],viewQuery:function(n,o){if(n&1&&Fe(ss,7),n&2){let r;Ve(r=Be())&&(o.googleSignInButton=r.first)}},decls:12,vars:3,consts:[["createPostComponent",""],[1,"container-fluid","p-0"],[1,"navbar"],[1,"container"],["href","#",1,"navbar-brand"],[1,"navbar-right"],[4,"ngIf"],["class","nav-link btn login-btn",3,"click",4,"ngIf"],["class","user-info",4,"ngIf"],[3,"postCreated"],[3,"signInStatus"],[1,"nav-link","btn","login-btn",3,"click"],[1,"user-info"],["alt","User Image",1,"user-image",3,"src"],[1,"nav-link","user-name"],[1,"nav-link","btn","logout-btn",3,"click"],[1,"nav-link","btn","create-post-btn",3,"click"]],template:function(n,o){if(n&1){let r=A();l(0,"div",1)(1,"nav",2)(2,"div",3)(3,"a",4),m(4,"Blogify"),d(),l(5,"div",5),w(6,os,2,0,"div",6)(7,rs,2,0,"button",7)(8,as,8,2,"div",8),d()()()(),l(9,"app-create-post",9,0),C("postCreated",function(){return D(r),S(o.onPostCreated())}),d(),T(11,"router-outlet")}n&2&&(u(6),g("ngIf",!o.loggedIn),u(),g("ngIf",!o.loggedIn),u(),g("ngIf",o.loggedIn))},dependencies:[J,oi,Ni,Bi],styles:[".navbar[_ngcontent-%COMP%]{background-color:#f8f9fa}.user-image[_ngcontent-%COMP%]{border-radius:50%;height:40px;width:40px;margin-right:10px}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:10px}.btn[_ngcontent-%COMP%]{cursor:pointer}.btn-close[_ngcontent-%COMP%]{outline:none;border:none;background:none}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border:none;transition:background-color .3s ease}.create-post[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;transition:background-color .3s ease}.create-post[_ngcontent-%COMP%]:hover{background-color:#0056b3;color:#fff;text-decoration:none}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.user-image[_ngcontent-%COMP%], .nav-link[_ngcontent-%COMP%], .create-post[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1s}body[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.nav-link.btn[_ngcontent-%COMP%]{background:none;border:none;padding:.5rem 1rem}.user-image[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:.5rem}.create-post-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:5px;padding:.5rem 1rem;cursor:pointer}.create-post-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:10px;padding:2rem;width:500px;max-width:90%}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #e5e5e5}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem}.btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer}.modal-body[_ngcontent-%COMP%]{padding-top:1rem}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}.form-label[_ngcontent-%COMP%]{font-weight:500}.form-control[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border:none;padding:.5rem 1rem;color:#fff;border-radius:5px;cursor:pointer}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.navbar[_ngcontent-%COMP%]{background-color:#007bff;padding:10px 0}.navbar-brand[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem}.navbar-right[_ngcontent-%COMP%]{display:flex;align-items:center}.nav-link[_ngcontent-%COMP%]{color:#fff;margin-right:10px;transition:color .3s ease}.nav-link[_ngcontent-%COMP%]:hover{color:#e9ecef}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center}.user-image[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:10px}.user-name[_ngcontent-%COMP%]{font-weight:700}.create-post-btn[_ngcontent-%COMP%]{background-color:#28a745}.create-post-btn[_ngcontent-%COMP%]:hover{background-color:#218838}.login-btn[_ngcontent-%COMP%]{background-color:#6c757d}.login-btn[_ngcontent-%COMP%]:hover{background-color:#5a6268}.logout-btn[_ngcontent-%COMP%]{background-color:#dc3545}.logout-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}.btn.login-btn[_ngcontent-%COMP%]{background-color:#fff;color:#00f;cursor:pointer}.btn.logout-btn[_ngcontent-%COMP%], .btn.create-post-btn[_ngcontent-%COMP%]{cursor:pointer}"]});let i=e;return i})();var ls=["*"];var cs=["dialog"];var Hi={animation:!0,transitionTimerDelayMs:5},ds=(()=>{let e=class e{constructor(){this.animation=Hi.animation}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function us(i){let{transitionDelay:e,transitionDuration:s}=window.getComputedStyle(i),t=parseFloat(e),n=parseFloat(s);return(t+n)*1e3}function Gi(i){return typeof i=="string"}function Mt(i){return i!=null}function hs(i){return i&&i.then}function Li(i){return(i||document.body).getBoundingClientRect()}function ps(i){return e=>new xt(s=>{let t=r=>i.run(()=>s.next(r)),n=r=>i.run(()=>s.error(r)),o=()=>i.run(()=>s.complete());return e.subscribe({next:t,error:n,complete:o})})}var fs=()=>{},{transitionTimerDelayMs:_s}=Hi,ot=new Map,ee=(i,e,s,t)=>{let n=t.context||{},o=ot.get(e);if(o)switch(t.runningTransition){case"continue":return Nt;case"stop":i.run(()=>o.transition$.complete()),n=Object.assign(o.context,n),ot.delete(e)}let r=s(e,t.animation,n)||fs;if(!t.animation||window.getComputedStyle(e).transitionProperty==="none")return i.run(()=>r()),lt(void 0).pipe(ps(i));let a=new x,c=new x,v=a.pipe(jt(!0));ot.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:n});let b=us(e);return i.runOutsideAngular(()=>{let de=G(e,"transitionend").pipe(I(v),q(({target:K})=>K===e)),H=Gt(b+_s).pipe(I(v));Lt(H,de,c).pipe(I(v)).subscribe(()=>{ot.delete(e),i.run(()=>{r(),a.next(),a.complete()})})}),a.asObservable()};var Ui=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({});let i=e;return i})();var ji=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({});let i=e;return i})();var $i=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({});let i=e;return i})(),zi=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({});let i=e;return i})();var wr=(()=>{let i=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(i()||e()):!1})();var gs=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Wi(i){let e=Array.from(i.querySelectorAll(gs)).filter(s=>s.tabIndex!==-1);return[e[0],e[e.length-1]]}var ms=(i,e,s,t=!1)=>{i.runOutsideAngular(()=>{let n=G(e,"focusin").pipe(I(s),ue(o=>o.target));G(e,"keydown").pipe(I(s),q(o=>o.key==="Tab"),ct(n)).subscribe(([o,r])=>{let[a,c]=Wi(e);(r===a||r===e)&&o.shiftKey&&(c.focus(),o.preventDefault()),r===c&&!o.shiftKey&&(a.focus(),o.preventDefault())}),t&&G(e,"click").pipe(I(s),ct(n),ue(o=>o[1])).subscribe(o=>o.focus())})};var Tr=new Date(1882,10,12),Er=new Date(2174,10,25);var Mr=1e3*60*60*24;var Rt=1080,vs=24*Rt,ys=12*Rt+793,Ir=29*vs+ys,Pr=11*Rt+204;var Ji=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({});let i=e;return i})();var Ki=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({});let i=e;return i})(),bs=(()=>{let e=class e{constructor(){this._ngbConfig=O(ds),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),ce=class{constructor(e,s,t){this.nodes=e,this.viewRef=s,this.componentRef=t}};var Ds=(()=>{let e=class e{constructor(){this._document=O(Le)}hide(){let t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),n=this._document.body,o=n.style,{overflow:r,paddingRight:a}=o;if(t>0){let c=parseFloat(window.getComputedStyle(n).paddingRight);o.paddingRight=`${c+t}px`}return o.overflow="hidden",()=>{t>0&&(o.paddingRight=a),o.overflow=r}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Ss=(()=>{let e=class e{constructor(){this._nativeElement=O(z).nativeElement,this._zone=O(ie)}ngOnInit(){this._zone.onStable.asObservable().pipe(j(1)).subscribe(()=>{ee(this._zone,this._nativeElement,(t,n)=>{n&&Li(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ee(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=N({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,o){n&2&&(Ne("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),W("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[_t],decls:0,vars:0,template:function(n,o){},encapsulation:2});let i=e;return i})(),rt=class{update(e){}close(e){}dismiss(e){}},Cs=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Os=["animation","backdropClass"],It=class{_applyWindowOptions(e,s){Cs.forEach(t=>{Mt(s[t])&&(e[t]=s[t])})}_applyBackdropOptions(e,s){Os.forEach(t=>{Mt(s[t])&&(e[t]=s[t])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(I(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(I(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,s,t,n){this._windowCmptRef=e,this._contentRef=s,this._backdropCmptRef=t,this._beforeDismiss=n,this._closed=new x,this._dismissed=new x,this._hidden=new x,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,r)=>{this._resolve=o,this._reject=r}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let s=this._beforeDismiss();hs(s)?s.then(t=>{t!==!1&&this._dismiss(e)},()=>{}):s!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),s=this._backdropCmptRef?this._backdropCmptRef.instance.hide():lt(void 0);e.subscribe(()=>{let{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),s.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ie(e,s).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},Pt=function(i){return i[i.BACKDROP_CLICK=0]="BACKDROP_CLICK",i[i.ESC=1]="ESC",i}(Pt||{}),ws=(()=>{let e=class e{constructor(){this._document=O(Le),this._elRef=O(z),this._zone=O(ie),this._closed$=new x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new P,this.shown=new x,this.hidden=new x}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":Gi(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(j(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:t}=this._elRef,n={animation:this.animation,runningTransition:"stop"},o=ee(this._zone,t,()=>t.classList.remove("show"),n),r=ee(this._zone,this._dialogEl.nativeElement,()=>{},n),a=Ie(o,r);return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){let t={animation:this.animation,runningTransition:"continue"},n=ee(this._zone,this._elRef.nativeElement,(r,a)=>{a&&Li(r),r.classList.add("show")},t),o=ee(this._zone,this._dialogEl.nativeElement,()=>{},t);Ie(n,o).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{G(t,"keydown").pipe(I(this._closed$),q(o=>o.key==="Escape")).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(Pt.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let n=!1;G(this._dialogEl.nativeElement,"mousedown").pipe(I(this._closed$),zt(()=>n=!1),$t(()=>G(t,"mouseup").pipe(I(this._closed$),j(1))),q(({target:o})=>t===o)).subscribe(()=>{n=!0}),G(t,"click").pipe(I(this._closed$)).subscribe(({target:o})=>{t===o&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!n&&this._zone.run(()=>this.dismiss(Pt.BACKDROP_CLICK))),n=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){let n=t.querySelector("[ngbAutofocus]"),o=Wi(t)[0];(n||o||t).focus()}}_restoreFocus(){let t=this._document.body,n=this._elWithFocus,o;n&&n.focus&&t.contains(n)?o=n:o=t,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&ee(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=N({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(n,o){if(n&1&&Fe(cs,7),n&2){let r;Ve(r=Be())&&(o._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,o){n&2&&(ke("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),Ne("modal d-block"+(o.windowClass?" "+o.windowClass:"")),W("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[_t],ngContentSelectors:ls,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(n,o){n&1&&(Jt(),l(0,"div",1,0)(2,"div",2),Kt(3),d()()),n&2&&Ne("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let i=e;return i})(),Ts=(()=>{let e=class e{constructor(){this._applicationRef=O(Yt),this._injector=O(Y),this._environmentInjector=O(dt),this._document=O(Le),this._scrollBar=O(Ds),this._activeWindowCmptHasChanged=new x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new P;let t=O(ie);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let n=this._windowCmpts[this._windowCmpts.length-1];ms(t,n.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(n.location.nativeElement)}})}_restoreScrollBar(){let t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,n,o){let r=o.container instanceof HTMLElement?o.container:Mt(o.container)?this._document.querySelector(o.container):this._document.body;if(!r)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let a=new rt;t=o.injector||t;let c=t.get(dt,null)||this._environmentInjector,v=this._getContentRef(t,c,n,a,o),b=o.backdrop!==!1?this._attachBackdrop(r):void 0,de=this._attachWindowComponent(r,v.nodes),H=new It(de,v,b,o.beforeDismiss);return this._registerModalRef(H),this._registerWindowCmpt(de),H.hidden.pipe(j(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=K=>{H.close(K)},a.dismiss=K=>{H.dismiss(K)},a.update=K=>{H.update(K)},H.update(o),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),b&&b.instance&&b.changeDetectorRef.detectChanges(),de.changeDetectorRef.detectChanges(),H}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(n=>n.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let n=Ge(Ss,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,n){let o=Ge(ws,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:n});return this._applicationRef.attachView(o.hostView),t.appendChild(o.location.nativeElement),o}_getContentRef(t,n,o,r,a){return o?o instanceof Wt?this._createFromTemplateRef(o,r):Gi(o)?this._createFromString(o):this._createFromComponent(t,n,o,r,a):new ce([])}_createFromTemplateRef(t,n){let o={$implicit:n,close(a){n.close(a)},dismiss(a){n.dismiss(a)}},r=t.createEmbeddedView(o);return this._applicationRef.attachView(r),new ce([r.rootNodes],r)}_createFromString(t){let n=this._document.createTextNode(`${t}`);return new ce([[n]])}_createFromComponent(t,n,o,r,a){let c=Y.create({providers:[{provide:rt,useValue:r}],parent:t}),v=Ge(o,{environmentInjector:n,elementInjector:c}),b=v.location.nativeElement;return a.scrollable&&b.classList.add("component-host-scrollable"),this._applicationRef.attachView(v.hostView),new ce([[b]],v.hostView,v)}_setAriaHidden(t){let n=t.parentElement;n&&t!==this._document.body&&(Array.from(n.children).forEach(o=>{o!==t&&o.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,n)=>{t?n.setAttribute("aria-hidden",t):n.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){let n=()=>{let o=this._modalRefs.indexOf(t);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(n,n)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{let n=this._windowCmpts.indexOf(t);n>-1&&(this._windowCmpts.splice(n,1),this._activeWindowCmptHasChanged.next())})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Es=(()=>{let e=class e{constructor(){this._injector=O(Y),this._modalStack=O(Ts),this._config=O(bs)}open(t,n={}){let o=y(R(y({},this._config),{animation:this._config.animation}),n);return this._modalStack.open(this._injector,t,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),qi=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({providers:[Es]});let i=e;return i})();var Qi=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({});let i=e;return i})();var Yi=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({});let i=e;return i})();var Zi=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({});let i=e;return i})();var Xi=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({});let i=e;return i})();var en=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({});let i=e;return i})();var tn=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({});let i=e;return i})();var nn=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({});let i=e;return i})();var sn=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({});let i=e;return i})();var on=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({});let i=e;return i})();var Rr=new $("live announcer delay",{providedIn:"root",factory:()=>100});var rn=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({});let i=e;return i})();var an=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({});let i=e;return i})(),Ms=[Ui,ji,$i,zi,Ji,Ki,qi,Qi,an,Yi,Zi,Xi,en,tn,nn,sn,on,rn],ln=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e}),e.\u0275inj=p({imports:[Ms,Ui,ji,$i,zi,Ji,Ki,qi,Qi,an,Yi,Zi,Xi,en,tn,nn,sn,on,rn]});let i=e;return i})();var cn=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e,bootstrap:[st]}),e.\u0275inj=p({providers:[ii(),B,{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:U.PROVIDER_ID,provider:new U("1088154961211-oi9bnlc9hg2v0d6hc6qu2i4eielgcai4.apps.googleusercontent.com")},{id:Ee.PROVIDER_ID,provider:new Ee("854240906261396")}]}}],imports:[ti,Ai,je,ei,ln,Mi,ki,Fi]});let i=e;return i})();var Is=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f({type:e,bootstrap:[st]}),e.\u0275inj=p({imports:[cn,ni]});let i=e;return i})();export{Is as a};
